<!DOCTYPE document PUBLIC
        "-//Apache Software Foundation//DTD XDOC 1.0//EN"
        "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<document>
    <properties>
        <title>Java Pairing-Based Cryptography Library : Docs - PBC Wrapper</title>
        <author email="jpbclib@gmail.com">Angelo De Caro</author>
    </properties>

    <body>
        <section name="PBC Wrapper">
            <p>
                JPBC provides a wrapper around PBC by means
                of a tiny and efficient layer that enables the communication between
                the two libraries.
            </p>

            <p>
                To use the wrapper a shared library written in
                <code>C</code> must be compiled and installed properly.
            </p>
            <p>
                To compile the shared library, JPBC provides a
                <a href="http://www.cmake.org/">cmake</a>
                style build configuration file.
            </p>
            <p>
                Here are the instructions to compile the shared library
                under a unix-like environment.
            </p>

            <ol>
                <li>
                    <span class="em">Install PBC: </span>
                    <p>
                        Look <a href="http://crypto.stanford.edu/pbc/manual/ch01.html">here</a> for instructions.
                    </p>
                </li>
                <li>
                    <span class="em">Compile the Shared Library: </span>
                    <p>
                        Starting from a JPBC distribution, go to the
                        <code>jpbc-pbc</code>
                        folder and type in a shell the following:
                    </p>
                    <source xml:space="preserve">
ccmake .</source>

                    <p>
                        Here is a screenshot of the shell.
                    </p>
                    <div align="center">
                        <img align="middle" src="../images/cmake_shell.png" border="0" hspace="18" alt="cmake_shell"/>
                    </div>

                    <p>
                        Now press
                        <code>c</code>
                        and then 
                        <code>g</code>
                        .
                        <br/>
                        A
                        <code>Makefile</code>
                        file will be generated by cmake. Now in the shell type
                    </p>
                    <source xml:space="preserve">
make</source>
                    <p>
                        The output should be:
                    </p>
                    <div align="center">
                        <img align="middle" src="../images/make_output.png" border="0" hspace="18" alt="make_output"/>
                    </div>

                    <p>
                        If everything is OK then in the
                        <code>build</code>
                        folder you'll have the shared library compiled.
                        Move the library to a system folder where Java can see it. Have a look to the
                        "<code>java.library.path</code>" property to know where to place the library.
                    </p>
                </li>
            </ol>

        </section>
    </body>
</document>
